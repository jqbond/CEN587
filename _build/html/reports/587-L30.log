Traceback (most recent call last):
  File "C:\Users\jqbond\AppData\Roaming\Python\Python39\site-packages\jupyter_cache\executors\utils.py", line 51, in single_nb_execution
    executenb(
  File "C:\Users\jqbond\AppData\Roaming\Python\Python39\site-packages\nbclient\client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "C:\Users\jqbond\AppData\Roaming\Python\Python39\site-packages\nbclient\util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "C:\Users\jqbond\AppData\Roaming\Python\Python39\site-packages\nbclient\util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "C:\Users\jqbond\anaconda3\lib\asyncio\base_events.py", line 647, in run_until_complete
    return future.result()
  File "C:\Users\jqbond\AppData\Roaming\Python\Python39\site-packages\nbclient\client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "C:\Users\jqbond\AppData\Roaming\Python\Python39\site-packages\nbclient\client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "C:\Users\jqbond\AppData\Roaming\Python\Python39\site-packages\nbclient\client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
ans1 = opt.minimize_scalar(OBJONE, method = 'Brent', bracket = [0.01, 0.05])
SSE1 = ans1.fun
k1   = ans1.x

#Calculate result for best fit first order model
tsmooth   = np.linspace(0, max(tdata), 100)
CA0       = 0.05 #mol/L
CAPRED1   = CA0*np.exp(-k1*tdata)
CMOD1     = CA0*np.exp(-k1*tsmooth)
JAC1      = JACONE(k1)

Ndata      = len(tdata)
DOF       = Ndata - 1
MSE1  = SSE1/Ndata
RMSE1 = np.sqrt(MSE1)
MAE1  = 1/Ndata*np.sum(np.abs(CAdata - CAPRED1))
COV1        = SSE1/DOF*1/(JAC1.T@JAC1)
SEk1        = np.sqrt(COV1) 
tval       = stats.t.ppf(0.975, DOF)
CIk1        = tval*SEk1

CAbar     = np.mean(CAdata)
SST1       = np.sum((CAdata - CAbar)**2)
R21  = 1 - SSE1/SST1

print('\n', ans_first, '\n')

labels = ['k', 'Î±', 'SSE', 'MSE', 'RMSE', 'MAE', 'R2']
values = [k1, 1, SSE1, MSE1, RMSE1, MAE1, R21]

for label, value in zip(labels, values):
    if label == 'k':
        print(f'{label:4s} = {value:0.2E} +/- {CIk:0.2E}')
    else:
        print(f'{label:4s} = {value:0.2E}')

#Overlay best fit model with data
plt.figure(1, figsize = (5, 5))
plt.scatter(tdata, CAdata, marker = 'o', color = 'none', edgecolor = 'black', label = 'CA')
plt.plot(tsmooth, CMOD1, color = 'black', linestyle = 'dashed')
plt.title('First order nonlinear regression')
plt.xlabel('time (min))', fontsize = 12)
plt.ylabel('CA (M))', fontsize = 12)
plt.xlim(0, max(tdata))
plt.ylim(0, 0.06)
plt.show()

plt.figure(2, figsize = (5, 5))
plt.scatter(tdata, (CAdata - CAPRED1), marker = 'o', color = 'none', edgecolor = 'black', label = 'CA')
plt.hlines(0, 0, max(tdata), color = 'black', linestyle = 'dashed')
plt.title('Residual Plot for First order')
plt.xlabel('time (min))', fontsize = 12)
plt.ylabel('Residual (M))', fontsize = 12)
plt.xlim(0, max(tdata))
plt.show()
------------------

[1;31m---------------------------------------------------------------------------[0m
[1;31mNameError[0m                                 Traceback (most recent call last)
[1;32m~\AppData\Local\Temp\ipykernel_5040\3841581823.py[0m in [0;36m<cell line: 26>[1;34m()[0m
[0;32m     24[0m [0mR21[0m  [1;33m=[0m [1;36m1[0m [1;33m-[0m [0mSSE1[0m[1;33m/[0m[0mSST1[0m[1;33m[0m[1;33m[0m[0m
[0;32m     25[0m [1;33m[0m[0m
[1;32m---> 26[1;33m [0mprint[0m[1;33m([0m[1;34m'\n'[0m[1;33m,[0m [0mans_first[0m[1;33m,[0m [1;34m'\n'[0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m
[0m[0;32m     27[0m [1;33m[0m[0m
[0;32m     28[0m [0mlabels[0m [1;33m=[0m [1;33m[[0m[1;34m'k'[0m[1;33m,[0m [1;34m'Î±'[0m[1;33m,[0m [1;34m'SSE'[0m[1;33m,[0m [1;34m'MSE'[0m[1;33m,[0m [1;34m'RMSE'[0m[1;33m,[0m [1;34m'MAE'[0m[1;33m,[0m [1;34m'R2'[0m[1;33m][0m[1;33m[0m[1;33m[0m[0m

[1;31mNameError[0m: name 'ans_first' is not defined
NameError: name 'ans_first' is not defined

