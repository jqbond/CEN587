

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Functions, D&amp;D &#8212; Kinetics and Reaction Engineering</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.4cbf315f70debaebd550c87a6162cf0f.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Supplements/587-S07';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/JQB.png" class="logo__image only-light" alt="Kinetics and Reaction Engineering - Home"/>
    <script>document.write(`<img src="../_static/JQB.png" class="logo__image only-dark" alt="Kinetics and Reaction Engineering - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to CEN 587!
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../Chapter1.html">Python Supplements</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="587-S01.html">The Basics</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Chapter2.html">Lectures</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lectures/587-L01.html">Introduction and Stoichiometry</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/jqbond/CEN587/main?urlpath=tree/Supplements/587-S07.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/jqbond/CEN587" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/jqbond/CEN587/issues/new?title=Issue%20on%20page%20%2FSupplements/587-S07.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Supplements/587-S07.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Functions, D&D</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#function-syntax">Function syntax</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#it-is-helpful-to-think-like-a-computer">It is helpful to think like a computer</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#binding-the-output-of-a-function-to-a-variable">Binding the output of a function to a variable</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lambda-functions">lambda functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multivariate-functions">Multivariate Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#broadcasting-a-function-to-elements-in-a-collection">Broadcasting a function to elements in a collection</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#wait-how-would-you-do-this-with-values-in-a-list-or-a-tuple">Wait…How would you do this with values in a list or a tuple??</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-complex-functions-multiple-operations-and-outputs">More complex functions, multiple operations and outputs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-your-coat-of-arms-anyway">What is your Coat of Arms anyway?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#random-number-generation">Random number generation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#generating-random-integers-in-a-range-roll-the-dice">Generating random integers in a range (roll the dice)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-about-you-roll-the-dice-a-lot-of-times">How about you roll the dice a lot of times…</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-make-this-more-flexible-so-that-we-can-roll-things-other-than-a-d6">Let’s make this more flexible so that we can roll things other than a d6</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#now-you-have-a-fully-functioning-dice-roller">Now you have a fully functioning dice roller</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#generate-a-coat-of-arms">Generate a coat of arms</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-much-damage-will-a-magic-battle-axe-do-against-a-lich-anyway">How much damage will a magic battle axe do against a Lich anyway?</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="functions-d-d">
<h1>Functions, D&amp;D<a class="headerlink" href="#functions-d-d" title="Permalink to this heading">#</a></h1>
<p>Functions are some of the most useful classes of objects in any high level programming language, and Python is no exception!  In very basic terms, a function accepts inputs, performs operations on them, and returns outputs.  The classic idea we all have of a function is something like y is a function of x for example,</p>
<div class="math notranslate nohighlight">
\[y(x) = 2x + 5\]</div>
<p>This is a simple <em>univariate scalar</em> function. We call it univariate because it has only one argument (x).  We call it scalar because for a given input of x, it returns a single output value for y. But we will see in a moment that functions are far more general and flexible.  In Python, we follow a few important rules to define a function.</p>
<section id="function-syntax">
<h2>Function syntax<a class="headerlink" href="#function-syntax" title="Permalink to this heading">#</a></h2>
<p>To start, the most traditional way to declare a function is with the <strong>def</strong> keyword, and you always use the following syntax:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">function_name</span><span class="p">(</span><span class="n">inputs</span><span class="p">):</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">function_name</span></code> can be anything you want it to be, and <code class="docutils literal notranslate"><span class="pre">inputs</span></code> can be zero, one, or more arguments that you will provide to the function in order for it to perform its operations. Of the parts you see here, the only things that are non negotiable in this type of function definition are <code class="docutils literal notranslate"><span class="pre">def</span></code> and <code class="docutils literal notranslate"><span class="pre">:</span></code></p>
<p><strong>The next bit is important:</strong> Every line after the first one in the function (the one with <code class="docutils literal notranslate"><span class="pre">def</span></code> and <code class="docutils literal notranslate"><span class="pre">:</span></code> in it), all the way up to the end of your function, <em>must be indented from the left margin</em>. This is the same syntax as <code class="docutils literal notranslate"><span class="pre">if</span></code> statements, <code class="docutils literal notranslate"><span class="pre">for</span></code> loops, and <code class="docutils literal notranslate"><span class="pre">while</span></code> loops. If a line is indented beyond the <code class="docutils literal notranslate"><span class="pre">def</span></code> keyword, that means that line is inside of the function’s scope.  Once you return to the left margin, you are no longer writing code inside of that function. Python uses indentation to define a function scope instead of something like an <strong>end</strong> keyword that you see in many languages. In Python, indentation is what distinguishes a bit of code from being inside of a function (or loop) and being outside of that function (or loop). Typically a good editor will auto-indent the next line for you once it sees a : at the end of a line.  Jupyter, for example, does this by default.</p>
<p>With the above rules and caveats in mind, in the cells below, we create a function called <code class="docutils literal notranslate"><span class="pre">y1</span></code> that accepts an argument (an input), which is called <code class="docutils literal notranslate"><span class="pre">x</span></code> locally inside of the function. It uses that value of <code class="docutils literal notranslate"><span class="pre">x</span></code> to perform the required operations, and it returns the value of <code class="docutils literal notranslate"><span class="pre">result</span></code> as an output.  We also will go ahead an import the packages we will need later in this module. Function definitions themselves are part of base Python, but we’ll also need <code class="docutils literal notranslate"><span class="pre">numpy</span></code>, <code class="docutils literal notranslate"><span class="pre">pyplot</span></code>, and <code class="docutils literal notranslate"><span class="pre">random</span></code> to complete the exercises in this module.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>    

<span class="k">def</span> <span class="nf">y1</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">5</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="it-is-helpful-to-think-like-a-computer">
<h2>It is helpful to think like a computer<a class="headerlink" href="#it-is-helpful-to-think-like-a-computer" title="Permalink to this heading">#</a></h2>
<p>Let’s get used to thinking through how a piece of code will work - you really cannot learn to program until you understand how code is executed, so this is good practice. In this example, any time I want to evaluate the answer for y(x), I give a value of x to the function, i.e., I provide the necessary <strong>input</strong> to my function. The function then computes the “result” for that value of the input using whatever operations I specify, and then it <strong>returns</strong> that result as its <strong>output</strong>. This is a fairly easy function to evaluate, and I can see that for x = 10, this function should give me the result that y = 25.  Let’s try it in the cell below; we’ll pass the arugment 10 to our function y(x) and see what it returns. You pass an argument to a function using parentheses <code class="docutils literal notranslate"><span class="pre">()</span></code> in Python–pay attention to how this looks different from passing an index to an array using brackets <code class="docutils literal notranslate"><span class="pre">[]</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y1</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>25
</pre></div>
</div>
</div>
</div>
</section>
<section id="binding-the-output-of-a-function-to-a-variable">
<h2>Binding the output of a function to a variable<a class="headerlink" href="#binding-the-output-of-a-function-to-a-variable" title="Permalink to this heading">#</a></h2>
<p>Frequently, you’ll want to store the result of that function in a new variable.  I would do this just as I would when defining a number; this will  store a new variable called “output” to the workspace (type <code class="docutils literal notranslate"><span class="pre">%whos</span></code> to confirm).  It will have a value of 25.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">output</span> <span class="o">=</span> <span class="n">y1</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="o">%</span><span class="k">whos</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Variable   Type        Data/Info
--------------------------------
np         module      &lt;module &#39;numpy&#39; from &#39;C:\&lt;...&gt;ges\\numpy\\__init__.py&#39;&gt;
output     int         25
plt        module      &lt;module &#39;matplotlib.pyplo&lt;...&gt;\\matplotlib\\pyplot.py&#39;&gt;
random     module      &lt;module &#39;random&#39; from &#39;C:&lt;...&gt;aconda3\\Lib\\random.py&#39;&gt;
y1         function    &lt;function y1 at 0x0000011AC153EAC0&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="lambda-functions">
<h2>lambda functions<a class="headerlink" href="#lambda-functions" title="Permalink to this heading">#</a></h2>
<p>Most languages will allow you to define an inline or anonymous function. In Python, these are called lambda functions. These are functions that you can write without going through the <code class="docutils literal notranslate"><span class="pre">def</span></code>, <code class="docutils literal notranslate"><span class="pre">:</span></code>, indent syntax outlined above. A key feature of a lambda function is that we do not have to bind it to a variable or function name (though you are not prevented from doing so).</p>
<p>The basic syntax for constructing a lambda function is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">arg_1</span><span class="p">,</span> <span class="n">arg_2</span><span class="p">,</span> <span class="n">arg_3</span><span class="p">,</span> <span class="o">...</span> <span class="p">,</span> <span class="n">arg_final</span><span class="p">:</span> <span class="n">function</span> <span class="n">operations</span>
</pre></div>
</div>
<p>I can extend that logic to write <span class="math notranslate nohighlight">\(y_2(x) = 2x+5\)</span> using the lambda function syntax as shown in the cell below, and then I can pass an input value for x just as I normally would. Because lambda functions are generally written as one liners, they are best suited to simple functions of one or two variables; however, they are extremely useful in many situations, so you’ll want to understand their syntax and how to construct lambda functions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y2</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">5</span>
<span class="n">y2</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>25
</pre></div>
</div>
</div>
</div>
</section>
<section id="multivariate-functions">
<h2>Multivariate Functions<a class="headerlink" href="#multivariate-functions" title="Permalink to this heading">#</a></h2>
<p>We definitely need to learn how to create a function that takes more than one argument.  For example, we can define the following <em>multivariate</em> scalar function. We call it multivariate because it has multiple arguments (x,y), but it is scalar because it returns a single value of p for any (x,y) pair.</p>
<div class="math notranslate nohighlight">
\[p(x,y) = x^2 + y^2 + 10\]</div>
<p>Using lambda function syntax, this, we can pass values of (x, y) = (10, 10) to get 210:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p1</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">10</span>
<span class="n">p1</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>210
</pre></div>
</div>
</div>
</div>
<p>That function could alternatively be defined in the conventional, long format. Functionally, these are the same, and you should use whichever is more convenient and/or readable for the program that you’re writing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">p2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">10</span>
<span class="n">p2</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>210
</pre></div>
</div>
</div>
</div>
</section>
<section id="broadcasting-a-function-to-elements-in-a-collection">
<h2>Broadcasting a function to elements in a collection<a class="headerlink" href="#broadcasting-a-function-to-elements-in-a-collection" title="Permalink to this heading">#</a></h2>
<p>Frequently, it will be of interest to pass sets of inputs instead of single values to a function. For example, let’s say I wanted to evaluate our functions y1(x) and p2(x,y) for 10 element <em>collections</em> of x and y values.</p>
<p>Specifically, for x, we want the 10 floating point numbers between 0 and 10 (inclusive of both limits), and for y, we want the 10 floating point numbers from 2 to 5 (inclusive of both limits).  Here, we have to make some decisions about the type of collection we want to use.</p>
<p>In base Python, you might use <em><strong>ranges</strong></em> and <em><strong>lists</strong></em>, but broadcasting a function elementwise to each item in the list will require some type of loop or comprehension (See Module 04).</p>
<p>The easiest solution in Python is <em>probably</em> to build x and y as numpy arrays and pass them as arguments to our functions.  Recall that math operations, by default, operate element-wise on a numpy array.  This applys when we pass a numpy array as a function argument. We can create these collections pretty easily using <code class="docutils literal notranslate"><span class="pre">np.linspace()</span></code>. Remember to print both arrays to confirm they include the values you want.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>  
<span class="n">yvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">xvals</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">yvals</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0.         0.11111111 0.22222222 0.33333333 0.44444444 0.55555556
 0.66666667 0.77777778 0.88888889 1.        ]
[2.         2.33333333 2.66666667 3.         3.33333333 3.66666667
 4.         4.33333333 4.66666667 5.        ]
</pre></div>
</div>
</div>
</div>
<p>We can generally pass them to a function and have our function operate on each element in the array without using something like a loop or a comprehension.  This ends up being very convenient in most of our course; hence the recommendation to <em>usually</em> work with numpy arrays in engineering courses.  Because we have defined xvals and yvals as numpy arrays, we can pass either of these directly into our functions, and have them return collections of outputs.  In other words, they are now vector functions because we are passing vectors (arrays) of inputs to them.  Try evaluating:</p>
<p>You should see that what this is doing is evaluating your function for every value in the arrays that you’re passing into the function.  This is super useful!!!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">y1</span><span class="p">(</span><span class="n">xvals</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p2</span><span class="p">(</span><span class="n">xvals</span><span class="p">,</span> <span class="n">yvals</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[5.         5.22222222 5.44444444 5.66666667 5.88888889 6.11111111
 6.33333333 6.55555556 6.77777778 7.        ]
[14.         15.45679012 17.16049383 19.11111111 21.30864198 23.75308642
 26.44444444 29.38271605 32.56790123 36.        ]
</pre></div>
</div>
</div>
</div>
</section>
<section id="wait-how-would-you-do-this-with-values-in-a-list-or-a-tuple">
<h2>Wait…How would you do this with values in a list or a tuple??<a class="headerlink" href="#wait-how-would-you-do-this-with-values-in-a-list-or-a-tuple" title="Permalink to this heading">#</a></h2>
<p>Just so you recognize that it is an issue, let’s say I wanted to pass the following set of values into my function y1(x), and I naively create it as a list, thinking that I can pass it directly as a function argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">xlist</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="n">y1</span><span class="p">(</span><span class="n">xlist</span><span class="p">)</span>
</pre></div>
</div>
<p>You will get an error because lists do not work with element-wise, “vectorized” operations by default.  You can either use a loop to work with this as a list, or you can map the function onto all of the elements in your list.  For this reason, numpy arrays are slightly cleaner for the type of work we usually do in engineering courses, but it is worth knowing how to handle broadcasting a function to all elements in, e.g., a list or a tuple.</p>
<p>It can be done using a for loop:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xlist</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="n">y_out</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">xlist</span><span class="p">:</span>
    <span class="n">y_out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y1</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
<span class="n">y_out</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[7, 11, 19, 25]
</pre></div>
</div>
</div>
</div>
<p>Though it would probably be preferable to do this with in Python is with a comprehension:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y_out</span> <span class="o">=</span> <span class="p">[</span><span class="n">y1</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">xlist</span><span class="p">]</span>
<span class="n">y_out</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[7, 11, 19, 25]
</pre></div>
</div>
</div>
</div>
</section>
<section id="more-complex-functions-multiple-operations-and-outputs">
<h2>More complex functions, multiple operations and outputs<a class="headerlink" href="#more-complex-functions-multiple-operations-and-outputs" title="Permalink to this heading">#</a></h2>
<p>The above are all fine examples of functions, everyone would benefit from learning to think more abstractly about what functions are and what they can do, so we need to break the habit of always thinking that by “function” we mean some sort of “polynomial” as in the examples above.</p>
<p>The general idea is that functions are code modules that take inputs from us, use those inputs to generate outputs, and then and return those outputs to us. They can be very large and complex, they can take many inputs, they can do lots of different operations, and they can return many outputs.</p>
<p>So let’s try something more complex - we will create a function called <strong>f1</strong> that takes x, y, and z as inputs (it is a multivariate function); uses those inputs to calculate the corresponding values of A, B, and C; and returns A, B, and C as outputs (it is a vector function). Technically, it will (by default) return a tuple of comma separated values for A, B, and C unless we specify otherwise.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">A</span><span class="o">*</span><span class="mi">5</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">z</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">B</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span>
</pre></div>
</div>
</div>
</div>
<p>If you prefer to return a list, a numpy array, or something else, you’d need to specify that in the function; for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">A</span><span class="o">*</span><span class="mi">5</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">z</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">B</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">]</span>  <span class="c1">#This will give you a list with A, B, and C as its elements</span>

<span class="k">def</span> <span class="nf">f3</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">A</span><span class="o">*</span><span class="mi">5</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">z</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">B</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">])</span>  <span class="c1">#Numpy array with A, B, and C as its elements. </span>
</pre></div>
</div>
<p>Now that we’ve defined the function, we can use it function to calculate <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code>, and <code class="docutils literal notranslate"><span class="pre">C</span></code> for <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">2</span></code>, and <code class="docutils literal notranslate"><span class="pre">z</span> <span class="pre">=</span> <span class="pre">3</span></code>.  As the next example shows, you must define the outputs if you want to store them in the workspace; otherwise, the function will just return them without storing the values. Try this example in the cell below for <code class="docutils literal notranslate"><span class="pre">x,</span> <span class="pre">y,</span> <span class="pre">z</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3</span></code>; it should return three numbers, the last of which is, by pure serendipity, the answer to the ultimate question of life, the universe, and everything. Confirm that you are getting the correct result before proceeding.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">f1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="o">%</span><span class="k">whos</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(3, 15, 42)
Variable   Type        Data/Info
--------------------------------
f1         function    &lt;function f1 at 0x0000011AC284A520&gt;
np         module      &lt;module &#39;numpy&#39; from &#39;C:\&lt;...&gt;ges\\numpy\\__init__.py&#39;&gt;
output     int         25
p1         function    &lt;function &lt;lambda&gt; at 0x0000011AC284A160&gt;
p2         function    &lt;function p2 at 0x0000011AC153EA20&gt;
plt        module      &lt;module &#39;matplotlib.pyplo&lt;...&gt;\\matplotlib\\pyplot.py&#39;&gt;
random     module      &lt;module &#39;random&#39; from &#39;C:&lt;...&gt;aconda3\\Lib\\random.py&#39;&gt;
value      int         10
xlist      list        n=4
xvals      ndarray     10: 10 elems, type `float64`, 80 bytes
y1         function    &lt;function y1 at 0x0000011AC153EAC0&gt;
y2         function    &lt;function &lt;lambda&gt; at 0x0000011AC284A7A0&gt;
y_out      list        n=4
yvals      ndarray     10: 10 elems, type `float64`, 80 bytes
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span> <span class="o">=</span> <span class="n">f1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1">#We can get A, B, and C assigned separately this way.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">)</span>
<span class="o">%</span><span class="k">whos</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3 15 42
Variable   Type        Data/Info
--------------------------------
A          int         3
B          int         15
C          int         42
f1         function    &lt;function f1 at 0x0000011AC284A520&gt;
np         module      &lt;module &#39;numpy&#39; from &#39;C:\&lt;...&gt;ges\\numpy\\__init__.py&#39;&gt;
output     int         25
p1         function    &lt;function &lt;lambda&gt; at 0x0000011AC284A160&gt;
p2         function    &lt;function p2 at 0x0000011AC153EA20&gt;
plt        module      &lt;module &#39;matplotlib.pyplo&lt;...&gt;\\matplotlib\\pyplot.py&#39;&gt;
random     module      &lt;module &#39;random&#39; from &#39;C:&lt;...&gt;aconda3\\Lib\\random.py&#39;&gt;
value      int         10
xlist      list        n=4
xvals      ndarray     10: 10 elems, type `float64`, 80 bytes
y1         function    &lt;function y1 at 0x0000011AC153EAC0&gt;
y2         function    &lt;function &lt;lambda&gt; at 0x0000011AC284A7A0&gt;
y_out      list        n=4
yvals      ndarray     10: 10 elems, type `float64`, 80 bytes
</pre></div>
</div>
</div>
</div>
<p>OK: that function is objectively more interesting, but it is still relatively <em>boring</em> as things go…and it only hints at the flexibility of functions and the things that they are capable of doing.</p>
</section>
<section id="what-is-your-coat-of-arms-anyway">
<h2>What is your Coat of Arms anyway?<a class="headerlink" href="#what-is-your-coat-of-arms-anyway" title="Permalink to this heading">#</a></h2>
<p><strong>It’s also educational to combine things…like functions, random number generation, and list comprehensions.</strong></p>
<p>I was trying to come up with a fun and completely general example of something you can do with a function…and it occurred to me that you never know when you will need a set of polyhedral dice (that means many sided dice) on a moment’s notice.  You may have none on hand and really need to roll a d12 for something.</p>
<p>Seriously, <strong>has this ever happened to you?</strong> Sure, you can Google something. But how about we impress…<em>almost no one</em>…by writing our own dice roller in Python?</p>
<p>We will do this using a function. This function will accept two inputs from you:  The number of <strong>sides</strong> that your dice have, and the number of <strong>dice</strong> you wish to roll. It will produce one output: a list of your dice rolls. First, though, we have to learn a few things and import a new module.</p>
<section id="random-number-generation">
<h3>Random number generation<a class="headerlink" href="#random-number-generation" title="Permalink to this heading">#</a></h3>
<p>Dice are randomizers - rolling them selects a random integer between 1 and the number of sides that the die has. For example, if you roll a 6-sided die (a d6), it has an equal probability (1 out of 6) of returning 1, 2, 3, 4, 5, or 6.  We can mimic this by using a random integer generator that selects from the integers 1 to 6. To my knowledge, there is not a random number generator in base Python (though there might be), but I do know that there is one in the “random” package.  Since this isn’t in base Python by default, we need to import it.</p>
<p>To start, let’s import the random package by typing the following in the cell below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="generating-random-integers-in-a-range-roll-the-dice">
<h3>Generating random integers in a range (roll the dice)<a class="headerlink" href="#generating-random-integers-in-a-range-roll-the-dice" title="Permalink to this heading">#</a></h3>
<p>Now that we have imported this package, we can use the modules included in that package.  The one we are interested in is called <code class="docutils literal notranslate"><span class="pre">random.randint()</span></code>.  We want <code class="docutils literal notranslate"><span class="pre">random.randint()</span></code> here because it returns integers, which is the same as a dice roll. <code class="docutils literal notranslate"><span class="pre">random.randint()</span></code> takes two inputs - the smallest number you want included in your random set (we will call this <strong>a</strong>), and the largest number you want included in your random set (we will call this <strong>b</strong>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unlike ranges, <code class="docutils literal notranslate"><span class="pre">randint()</span></code> includes both endpoints!</p>
</div>
<p>When you want to generate a random integer between (and including) a and b, you would type:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>We’ll demonstrate this in the cell below for a single d6, for which a = 1 and b = 6.  If you execute this cell repeatedly, you’ll see that it returns the integers 1 through 6, as you’d expect from a d6 roll.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
</section>
<section id="how-about-you-roll-the-dice-a-lot-of-times">
<h3>How about you roll the dice a lot of times…<a class="headerlink" href="#how-about-you-roll-the-dice-a-lot-of-times" title="Permalink to this heading">#</a></h3>
<p>OK, so that gives us a result for a single dice roll for a d6.  Now let’s abstract this idea a bit and create a function that will allow us to roll any type of die we want as many times as we want.</p>
<p>The core of this function is going to be a list comprehension. Recall from Module 04 that list comprehensions provide a concise way to create a list of numbers easily using any (relatively simple) operation that you have in mind. In the first exercise, we used them to generate a large list of squares and to convert a list of integers into strings…but we can just as easily use it to create a list of random integers between (and including) <strong>a</strong> and <strong>b</strong>…or, relevant here, a set of 15 rolls on a d6:</p>
<p>This is accomplished in the cell below using a list comprehension that is making 15 random rolls for each element in the iterable <code class="docutils literal notranslate"><span class="pre">range(0,15)</span></code>, and it stores each one in a list called <strong>roll</strong>. As usual, <code class="docutils literal notranslate"><span class="pre">range()</span></code> excludes the upper limit from iterations, so we go from 0 to 14.</p>
<p>Try it out in the cell below; if you print the result, you should see a set of 15 random numbers all between (and including) 1 and 6.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">roll</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">roll</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[5, 1, 6, 1, 1, 2, 3, 6, 3, 1, 3, 6, 4, 4, 2]
</pre></div>
</div>
</div>
</div>
</section>
<section id="let-s-make-this-more-flexible-so-that-we-can-roll-things-other-than-a-d6">
<h3>Let’s make this more flexible so that we can roll things other than a d6<a class="headerlink" href="#let-s-make-this-more-flexible-so-that-we-can-roll-things-other-than-a-d6" title="Permalink to this heading">#</a></h3>
<p>Now we’re getting somewhere!  Let’s see if we can put that list comprehension inside of a function in a way that will let us use this function to calculate any number of roll outcomes for any type of die. To do this, we will construct a function that takes two inputs from us:  the number of <strong>sides</strong> that our dice have, and the number of <strong>dice</strong> we want to roll. Then we use our list comprehension and random integer generator to get the result of those dice rolls. The way I have written this range will give me the exact number of rolls I want, i.e., the range between the first roll (index = 0) and up to the last roll (index = dice - 1).  The result is a number of rolls = dice as desired. Go ahead and define this function in the cell below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">roller</span><span class="p">(</span><span class="n">sides</span><span class="p">,</span> <span class="n">dice</span><span class="p">):</span>
    <span class="n">roll</span>  <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">sides</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dice</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">roll</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="now-you-have-a-fully-functioning-dice-roller">
<h3>Now you have a fully functioning dice roller<a class="headerlink" href="#now-you-have-a-fully-functioning-dice-roller" title="Permalink to this heading">#</a></h3>
<p>To use that function, we just need to give it the number of sides and the number of dice.  Let’s try it out for rolling <strong>4d12</strong> (that’s rolling a 12 sided die four times), <strong>6d6</strong>, <strong>2d10</strong>, and, just for fun, <strong>3d39</strong> in the cell below.  For example, to roll 4d12, you would type:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">roller</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>Try it for all the dice/sides combinations given above, and print your results to the screen, and then consult the next markdown cell…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">roller</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[2, 2, 3, 7]
</pre></div>
</div>
</div>
</div>
</section>
<section id="generate-a-coat-of-arms">
<h3>Generate a coat of arms<a class="headerlink" href="#generate-a-coat-of-arms" title="Permalink to this heading">#</a></h3>
<p>Now, let’s use the dice roller to generate a set of random indices that will determine the all-important <strong>coat of arms for our guild</strong>. To do this, we will roll <strong>4d20</strong> and then cross reference the results with a couple of lists that are pre-generated in the cell below. Go ahead and run the next cell to store the lists, and then we will talk more about using the dice roller.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;gold&#39;</span><span class="p">,</span> <span class="s1">&#39;cornflower&#39;</span><span class="p">,</span> <span class="s1">&#39;burnt sienna&#39;</span><span class="p">,</span><span class="s1">&#39;umber&#39;</span><span class="p">,</span> <span class="s1">&#39;silver&#39;</span><span class="p">,</span> <span class="s1">&#39;electric purple&#39;</span><span class="p">,</span> <span class="s1">&#39;puce&#39;</span><span class="p">,</span> <span class="s1">&#39;cyan&#39;</span><span class="p">,</span> <span class="s1">&#39;magenta&#39;</span><span class="p">,</span> <span class="s1">&#39;mountain dew yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;cheeto orange&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;azure&#39;</span><span class="p">,</span> <span class="s1">&#39;cornsilk&#39;</span><span class="p">,</span> <span class="s1">&#39;brown&#39;</span><span class="p">,</span> <span class="s1">&#39;teal&#39;</span><span class="p">]</span>
<span class="n">list2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;wolf&#39;</span><span class="p">,</span> <span class="s2">&quot;Pere David&#39;s deer&quot;</span><span class="p">,</span><span class="s1">&#39;tasmanian tiger&#39;</span><span class="p">,</span><span class="s1">&#39;tardigrade&#39;</span><span class="p">,</span><span class="s1">&#39;komodo dragon&#39;</span><span class="p">,</span> <span class="s1">&#39;bass&#39;</span><span class="p">,</span> <span class="s1">&#39;falcon&#39;</span><span class="p">,</span> <span class="s1">&#39;chtulu&#39;</span><span class="p">,</span> <span class="s1">&#39;billy-bumbler&#39;</span><span class="p">,</span> <span class="s1">&#39;raccoon&#39;</span><span class="p">,</span> <span class="s1">&#39;koala bear&#39;</span><span class="p">,</span> <span class="s1">&#39;banty rooster&#39;</span><span class="p">,</span> <span class="s1">&#39;dire mouse&#39;</span><span class="p">,</span> <span class="s1">&#39;gazelle&#39;</span><span class="p">,</span> <span class="s1">&#39;moon bear&#39;</span><span class="p">,</span> <span class="s1">&#39;tepezcuintle&#39;</span><span class="p">,</span> <span class="s1">&#39;pudu deer&#39;</span><span class="p">,</span> <span class="s1">&#39;Gary the Capybara&#39;</span><span class="p">,</span><span class="s1">&#39;dire mouse&#39;</span><span class="p">,</span> <span class="s1">&#39;three-toed sloth&#39;</span><span class="p">]</span>
<span class="n">list3</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;bridgewater&quot;</span><span class="p">,</span> <span class="s2">&quot;kalimba&quot;</span><span class="p">,</span> <span class="s2">&quot;acology&quot;</span><span class="p">,</span> <span class="s2">&quot;whiskerine&quot;</span><span class="p">,</span> <span class="s2">&quot;vespiform&quot;</span><span class="p">,</span> <span class="s2">&quot;kitenge&quot;</span><span class="p">,</span> <span class="s2">&quot;wold&quot;</span><span class="p">,</span> <span class="s2">&quot;kinderspiel&quot;</span><span class="p">,</span> <span class="s2">&quot;bodge&quot;</span><span class="p">,</span> <span class="s2">&quot;yarder&quot;</span><span class="p">,</span> <span class="s2">&quot;quisquous&quot;</span><span class="p">,</span> <span class="s2">&quot;bucolic&quot;</span><span class="p">,</span> <span class="s2">&quot;quarkonium&quot;</span><span class="p">,</span> <span class="s2">&quot;diremption&quot;</span><span class="p">,</span><span class="s2">&quot;opacular&quot;</span><span class="p">,</span> <span class="s2">&quot;raniform&quot;</span><span class="p">,</span> <span class="s2">&quot;kapnography&quot;</span><span class="p">,</span> <span class="s2">&quot;irenology&quot;</span><span class="p">,</span> <span class="s2">&quot;xoanon&quot;</span><span class="p">,</span> <span class="s2">&quot;electrophile&quot;</span><span class="p">]</span>
<span class="n">list4</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Keoland&quot;</span><span class="p">,</span> <span class="s2">&quot;Molvar&quot;</span><span class="p">,</span> <span class="s2">&quot;Azure Sea&quot;</span><span class="p">,</span> <span class="s2">&quot;The Barony of Derevendt&quot;</span><span class="p">,</span> <span class="s2">&quot;The Bitter North&quot;</span><span class="p">,</span> <span class="s2">&quot;The Bright Lands&quot;</span><span class="p">,</span> <span class="s2">&quot;The Crystalmist Mountains&quot;</span><span class="p">,</span> <span class="s2">&quot;The Duchy of Ulek&quot;</span><span class="p">,</span> <span class="s2">&quot;Shibboleth&quot;</span><span class="p">,</span> <span class="s2">&quot;The Rushmoors&quot;</span><span class="p">,</span> <span class="s2">&quot;The Lost Caverns of Tsojcanth&quot;</span><span class="p">,</span> <span class="s2">&quot;Gran March&quot;</span><span class="p">,</span> <span class="s2">&quot;Greysmere&quot;</span><span class="p">,</span> <span class="s2">&quot;The Free City of Greyhawk&quot;</span><span class="p">,</span> <span class="s2">&quot;The Hool Marshes&quot;</span><span class="p">,</span> <span class="s2">&quot;The Keep on the Borderlands&quot;</span><span class="p">,</span> <span class="s2">&quot;The Icy Sea&quot;</span><span class="p">,</span> <span class="s2">&quot;The Dreadwood&quot;</span><span class="p">,</span> <span class="s2">&quot;Nulb&quot;</span><span class="p">,</span> <span class="s2">&quot;Mount Sentvoor&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>We will use our dice roller to generate four rolls on a d20 that we will then convert to indices that corespond to the entries in the four lists above. We will use the first roll to tell us our guild’s primary color; our second to determine the animal mascot for our guild; the third gives a random word that somehow describes an aspect of your guild; and the final tells us the location that our guild is located (home base, if you will).</p>
<p>The one quirk that may not seem intuitive is that we will subtract 1 from each of the dice rolls to convert them from actual dice rolls to indices that we can use with the 20-element tables above. Remember, dice rolls go from 1 to the number of sides, but indices in Python start at 0. So a d20 gives you numbers from 1 to 20, but a 20-element Python List has indices that go from 0 to 19.  So as not to mess with our original dice roller and to demonstrate some more versatility of the languge, we will do this with a second list comprehension, where we use the result our of rolls as the interable in the next list comprehension. Just to give you some practice returning multiple values from a function, let’s return both the roll list and the corresponding indices. The bit of code below also includes parts that will extract the color, animal, attribute, and kingdom for your guild, all of which you will use to determine your coat of arms.</p>
<p><em><strong>Very Important</strong></em> Before you proceed with your results, here are the rules. You may run this function as many times as you wish to see how it behaves, <em>but your coat of arms is determined by your first result only!</em> <em><strong>RESPECT THE DICE</strong></em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">generator</span><span class="p">(</span><span class="n">sides</span><span class="p">,</span> <span class="n">dice</span><span class="p">):</span>
    <span class="n">roll</span>  <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">sides</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dice</span><span class="p">)]</span>
    <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">result</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">roll</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">roll</span><span class="p">,</span> <span class="n">index</span>

<span class="n">roll</span><span class="p">,</span> <span class="n">index</span>  <span class="o">=</span> <span class="n">generator</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">color</span>        <span class="o">=</span> <span class="n">list1</span><span class="p">[</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">animal</span>       <span class="o">=</span> <span class="n">list2</span><span class="p">[</span><span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">attribute</span>    <span class="o">=</span> <span class="n">list3</span><span class="p">[</span><span class="n">index</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>
<span class="n">kingdom</span>      <span class="o">=</span> <span class="n">list4</span><span class="p">[</span><span class="n">index</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span>
<span class="n">labels</span>       <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="s1">&#39;animal&#39;</span><span class="p">,</span> <span class="s1">&#39;attribute&#39;</span><span class="p">,</span> <span class="s1">&#39;kingdom&#39;</span><span class="p">]</span>
<span class="n">coat_of_arms</span> <span class="o">=</span> <span class="p">[</span><span class="n">color</span><span class="p">,</span> <span class="n">animal</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">kingdom</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Your rolls from 4d20 were     </span><span class="si">{</span><span class="n">roll</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The corresponding indices are </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Your coat of arms must include the following:&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">detail</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">coat_of_arms</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;    </span><span class="si">{</span><span class="n">label</span><span class="si">:</span><span class="s1">9s</span><span class="si">}</span><span class="s1"> = </span><span class="si">{</span><span class="n">detail</span><span class="si">:</span><span class="s1">s</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Your rolls from 4d20 were     [6, 17, 15, 8]
The corresponding indices are [5, 16, 14, 7]
Your coat of arms must include the following:
    color     = burnt sienna
    animal    = pudu deer
    attribute = opacular
    kingdom   = The Duchy of Ulek
</pre></div>
</div>
</div>
</div>
<p>Now for some serious fireworks. Let’s combine for loops, while loops, and the dice roller to answer a really important question.</p>
</section>
</section>
<section id="how-much-damage-will-a-magic-battle-axe-do-against-a-lich-anyway">
<h2>How much damage will a magic battle axe do against a Lich anyway?<a class="headerlink" href="#how-much-damage-will-a-magic-battle-axe-do-against-a-lich-anyway" title="Permalink to this heading">#</a></h2>
<p>In this example, we’ll travel to the legit game world, where you are up against something super gnarly. Let’s say a very old Lich. Ok, let’s just say you’re fighting Acererak from Tomb of Horrors. The dude is straight up bad news.</p>
<p>After a pitched battle, everyone in your guild is down <em>except for you</em>. You aren’t in great shape, but as far as you can tell, neither is Acererak. He looks rough <em><strong>even by lich standards</strong></em>, and you are pretty sure that he’s on his last legs. Some back of the envelope estimation (out of game) suggests that Acererak has about 28 hit points remaining, give or take. You have a magic great axe that has <em>Lichslayer III</em> written in Dwarven on the handle. Acererak’s physical armor is falling apart, and you swear you saw his mage armor flicker out of existence like 3 rounds ago. You’re a 19th level berserker, so you have a great chance to hit…the question is whether it will do enough damage to put Acererak down. It is all down to this roll - you’re up in initiative, and if you can beat 28, he’s done for…but if you don’t and he gets to return fire…he can hit you at will and pretty much take you down with a cantrip. It’s…risky. Discretion may be the better part of valor? Do you drag your comrades along and head for the sunlight, or do you swing the axe?  Boy, it’d be nice to know what to expect on that damage roll.</p>
<p>Let’s try to see if we can gauge our chances a bit by figuring out an average damage roll for <em>Lichslayer III</em>.  We’ll assume you’ll hit because you’re a 19th level berserker and he basically has no armor left. Your great axe does 4d12+5 base damage and then 2d4+2 bonus damage against Liches (because, <em>Lichslayer III</em>). The way this works is you roll your dice sets individually, add any modifiers, and then sum everything up to calculate your total damage roll.  For example, 4d12+5, if we rolled a 12 on each of our 4 dice, would give a total base damage of 53. 2d4+2, if we rolled 4 on each of our dice, would give bonus damage of 10. Add those together, that’s 63 and plenty to drop Acererak. But then, it’s pretty rare to ace on all of those dice, and there is a good chance your roll comes out much lower.</p>
<p>Just for kicks, let’s use a while loop to figure out the average result of that damage roll. This is basically the core of a monte carlo simulation - as a computer experiment, we will roll the dice (4d12+5 and 2d4+2) virtually and calculate the damage total. But we are actually interested in calculating the mean value by repeating the damage roll a number of times and then calculating the mean damage from all of our rolls. The thing we have to realize is that we will not approach the true mean until we repeat the damage roll many, many times.</p>
<p>If this doesn’t quite make sense, imagine flipping a quarter 4 times…there is a good chance you don’t get heads twice and tails twice, even though the probability of either roll is 1/2. If you flip the coin 100,000 times though, you will approach 50,000 heads and 50,000 tails, which is what you’d expect based on probability of the two outcomes. So the question I want to answer is how many times we need to make that damage roll before we get a reasonable approximation for the average of 4d12+5 + 2d4+2.</p>
<p>This is a fun example, but we really are just running a simulation until it coverges, and similar techniques are at the core of various simulations you might use in research, statistics, or data analysis. We are just going to use a while loop to continue increasing the number of damage rolls we make until the mean we get is no longer changing relative to our best current estimate of the mean. At that point, our simulation has converged, and we will consider this a pretty good approximation for our mean damage roll.</p>
<p>As usual with a while loop, we have to set a convergence threshold.  I’ll say that I’m happy if the specific experiment I’ve just run (making the damage roll “n” times and taking the average result) returns a mean value that is within 0.001 units of the average of <em>every single damage roll</em> I have made up to that point. When I hit a value of “n” damage rolls that satisfies this threshold, we are reaching a spot where adding another dice roll to the simulation does not significantly change the average result, so we stop increasing the number of times we make the damage roll, and we say this is a reasonable approximation of the average result.</p>
<p>I’ve constructed this as a for loop nested within a while loop.  The while loop continues iterating until we meet our convergence criteria, and the for loop calculates the mean damage roll for “n” damage rolls. Our first experiment is going to be rolling our damage total 4 times (n = 4). Once the for loop is done, we figure out the “average” of those 4 damage rolls, and we append it to our running tally of average results for “n” damage rolls. We then increment and go to 5 damage rolls and repeat the process for n = 5, then n = 6, and so forth. We will proceed until the average of “n” damage rolls is roughly equal to the average of <strong>all</strong> of the damage rolls I’ve made prior to those “n” rolls (taking the average of 1 roll, 2 rolls, 3 rolls, etc). To set up this simulation, I seeded the results of 1, 2, and 3 dice rolls with a few values - the minimum possible result (13), the maximum possible result (63), and something about in the middle (40). I did this to make sure I start out my 4 roll simulation in a spot where I am not immediately meeting my threshold criteria so that the simulation can proceed. As n gets large, the value of these first 3 made up results become insignificant.</p>
<p>Before you start - this is a great test case for a monte-carlo type method because we know the result or can figure it out easily based on probability.  Without going into too many details, the mean result for a d12 is 6.5, and the mean result for a d4 is 2.5. Based on that (4*6.5) + 5 + (2*2.5) + 2 = 38</p>
<p>If we’ve done our simulation correctly, we expect that our mean result will converge on 38.  Again, I am pointing this out because a computer will give you an output even if you’ve made mistakes in your code.  Anytime you can, test out your method on a system that you know the answer to - get it working there, and then scale it up to the system that you don’t know the answer to already.</p>
<p>Ultimately, this script will print out the number of rolls it takes to get within 0.001 absolute error from the running mean; plot the average damage roll as a function of dice rolls made; and print out the tolerance returned at your last step. You should see that as you increase the number of dice you roll, your mean result approach the true mean.</p>
<p>What do you think? Stand your ground or retreat?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#This is our dice roller</span>
<span class="k">def</span> <span class="nf">generator</span><span class="p">(</span><span class="n">sides</span><span class="p">,</span> <span class="n">dice</span><span class="p">):</span>
    <span class="n">roll</span>  <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">sides</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dice</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">roll</span>

<span class="c1">#We will start the experiment by rolling 4 dice </span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">4</span>

<span class="c1">#Initial value for my threshold to start loop; anything above 0.001 will work</span>
<span class="n">threshold</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">averages</span> <span class="o">=</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">40</span><span class="p">]</span>          <span class="c1">#Seeding the first three rolls initialize the mean</span>
<span class="n">counter</span>  <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>   <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">]</span>          <span class="c1">#Seeding my counter with rolls 1, 2, and 3.  </span>
<span class="k">while</span> <span class="n">threshold</span> <span class="o">&gt;</span> <span class="mf">0.001</span><span class="p">:</span>         <span class="c1">#Run the commands below as long as threshold is &gt; 0.001</span>
    <span class="n">counter</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>            <span class="c1">#You&#39;ve started the experiment; you roll &quot;n&quot; dice this time.</span>
    <span class="n">total</span> <span class="o">=</span> <span class="p">[]</span>                   <span class="c1">#Initialize a list &#39;total&#39; to store results of all n rolls</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>        <span class="c1">#Use a for loop to make n damage rolls and store the result</span>
        <span class="n">roll1</span> <span class="o">=</span> <span class="n">generator</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="c1">#This is your 4d12 roll</span>
        <span class="n">roll2</span> <span class="o">=</span> <span class="n">generator</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span>  <span class="mi">2</span><span class="p">)</span> <span class="c1">#This is your 2d4 roll</span>
        <span class="n">base</span>  <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">roll1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">5</span>   <span class="c1">#Adding modifier to base</span>
        <span class="n">bonus</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">roll2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span>   <span class="c1">#Adding modifer to bonus</span>
        <span class="n">damage</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="n">bonus</span>    <span class="c1">#Result of the ith damage roll out of n damage rolls.</span>
        <span class="n">total</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">damage</span><span class="p">)</span>     <span class="c1">#Append the ith damage total to list called &#39;total&#39;</span>
    <span class="n">mean_result_for_n_rolls</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">total</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">total</span><span class="p">)</span>  <span class="c1">#mean of n damage rolls after exiting</span>

    <span class="n">averages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mean_result_for_n_rolls</span><span class="p">)</span>  <span class="c1">#append the mean of n rolls onto running total </span>
    <span class="n">mean_result_for_all_rolls</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">averages</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">averages</span><span class="p">)</span> <span class="c1">#Mean of every roll.</span>
    
    <span class="c1">#For threshold check the difference in the mean of &quot;n&quot; rolls and the mean of every roll.  </span>
    <span class="n">threshold</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">mean_result_for_all_rolls</span> <span class="o">-</span> <span class="n">mean_result_for_n_rolls</span><span class="p">)</span>

    <span class="c1">#increment number of times to make damage roll.  If threshold is &gt; 0.001, run loop again.</span>
    <span class="n">n</span> <span class="o">+=</span><span class="mi">1</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;We converge on the true mean after making </span><span class="si">{</span><span class="n">n</span><span class="si">:</span><span class="s1">d</span><span class="si">}</span><span class="s1"> damage rolls&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The average damage calculated from this simulation is </span><span class="si">{</span><span class="n">averages</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s1">4.4f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;We converged to within </span><span class="si">{</span><span class="nb">abs</span><span class="p">(</span><span class="n">averages</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">38</span><span class="p">)</span><span class="si">}</span><span class="s1"> deviation from the true mean&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">counter</span><span class="p">,</span> <span class="n">averages</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">counter</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of damage rolls made&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Damage Estimate from Monte Carlo Simulation&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>We converge on the true mean after making 370 damage rolls
The average damage calculated from this simulation is 38.0678
We converged to within 0.06775067750677266 deviation from the true mean
</pre></div>
</div>
<img alt="../_images/05bf6eff1a07fea589606f1607f7c76c144b5f5bcf3fac44a2227cc5ecfb9937.png" src="../_images/05bf6eff1a07fea589606f1607f7c76c144b5f5bcf3fac44a2227cc5ecfb9937.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Supplements"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#function-syntax">Function syntax</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#it-is-helpful-to-think-like-a-computer">It is helpful to think like a computer</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#binding-the-output-of-a-function-to-a-variable">Binding the output of a function to a variable</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lambda-functions">lambda functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multivariate-functions">Multivariate Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#broadcasting-a-function-to-elements-in-a-collection">Broadcasting a function to elements in a collection</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#wait-how-would-you-do-this-with-values-in-a-list-or-a-tuple">Wait…How would you do this with values in a list or a tuple??</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-complex-functions-multiple-operations-and-outputs">More complex functions, multiple operations and outputs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-your-coat-of-arms-anyway">What is your Coat of Arms anyway?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#random-number-generation">Random number generation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#generating-random-integers-in-a-range-roll-the-dice">Generating random integers in a range (roll the dice)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-about-you-roll-the-dice-a-lot-of-times">How about you roll the dice a lot of times…</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-make-this-more-flexible-so-that-we-can-roll-things-other-than-a-d6">Let’s make this more flexible so that we can roll things other than a d6</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#now-you-have-a-fully-functioning-dice-roller">Now you have a fully functioning dice roller</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#generate-a-coat-of-arms">Generate a coat of arms</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-much-damage-will-a-magic-battle-axe-do-against-a-lich-anyway">How much damage will a magic battle axe do against a Lich anyway?</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jesse Q. Bond, Syracuse University
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>